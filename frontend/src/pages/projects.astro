---
import PageLayout from '../layouts/PageLayout.astro';
import ProjectCard from '../components/ProjectCard.astro';
import projectsData from '../data/projects.json';

const projects = projectsData.map((project) => ({
  title: project.name,
  desc: project.description,
  url: project.link,
  tech: project.techStack
}));
---

<PageLayout title="Projects | Nayuki Blog">
  <div class="page-container">
    <h1 class="page-title">开源项目</h1>
    <p class="page-desc">这里展示了我的一些开源项目和实验性作品。</p>
    
    <div class="project-grid">
      {projects.map(project => (
        <ProjectCard {...project} />
      ))}
    </div>
  </div>
</PageLayout>

<style>
  .page-container { max-width: 960px; margin: 0 auto; }
  .page-title { font-size: 2rem; font-weight: 700; margin-bottom: 0.5rem; }
  .page-desc { color: #666; margin-bottom: 2rem; }
  .project-grid { display: grid; grid-template-columns: 1fr; gap: 1rem; }
  @media (min-width: 640px) { .project-grid { grid-template-columns: repeat(2, 1fr); } }
</style>
