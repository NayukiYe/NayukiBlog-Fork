---
import PageLayout from '../layouts/PageLayout.astro';
import DiaryCard from '../components/DiaryCard.astro';
import diariesData from '../data/diaries.json';

// Sort diaries by date descending
const diaries = diariesData.sort((a, b) => new Date(b.date).valueOf() - new Date(a.date).valueOf());
---

<PageLayout title="Diary | Nayuki Blog">
  <div class="container">
    <h1 class="page-title">ðŸ“” ä¸ªäººæ—¥è®°</h1>
    <p class="page-desc">è®°å½•ç”Ÿæ´»ç‚¹æ»´ä¸Žç¢Žç¢Žå¿µã€‚</p>
    
    <div class="timeline">
      {diaries.map((diary) => (
        <DiaryCard {...diary} />
      ))}
    </div>
  </div>
</PageLayout>

<style>
  .container { max-width: 800px; margin: 0 auto; }
  .page-title { font-size: 2rem; font-weight: 700; margin-bottom: 0.5rem; }
  .page-desc { color: #666; margin-bottom: 3rem; }

  /* Timeline Styles */
  .timeline {
    position: relative;
    padding-left: 2rem;
    border-left: 2px solid #eee;
    margin-left: 1rem;
  }
</style>
